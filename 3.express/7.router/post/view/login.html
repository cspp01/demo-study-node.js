<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="html,css"/>
    <meta name="description" content="fdsadfsdf"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Title</title>
</head>
<body>
<%- title %>
<input type="text" name="user" placeholder="用户名"/>
<input type="password" name="pass" placeholder="密码"/>
<!--<a href="./login">login</a>-->
<a href="javascript:aa()">登录</a>
</body>
<script>
    function aa() {
        let xttp,
            userV = document.getElementsByName( 'user' )[ 0 ],
            passV = document.getElementsByName( 'pass' )[ 0 ];
        if( window.XMLHttpRequest ) {
            xttp = new XMLHttpRequest();
        } else {
            xttp = new ActiveXObject( 'Microsoft XMLHTTP' );
        }
        xttp.open( 'POST', '/login' ); // + Math.random()
        xttp.setRequestHeader( 'Content-Type', 'application/x-www-form-urlencoded' );
        xttp.send( 'u=' + userV + '&p=' + passV );
        xttp.onreadystatechange = () => {
            alert( 2 );
            if( xttp.readyState == 1 || xttp.readyState == 2 || xttp.readyState == 3 ) {
                console.log( '加载中...' );
            } else if( xttp.readyState == 4 && xttp.status == 200  ) {
                console.log( xttp.responseText );
            }
        };
    }
</script>
</html>